<th-object3D
    loadGLTF
    [url]="urlTop"
    [position]="position"
    [rotation]="rotation"
    (onClick)="((cardIndex == gameService.diceNumber && card.canBuy) || card.owner == gameService.players[gameService.turn].id) && (card.cardType=='property' || card.cardType=='station' || card.cardType=='plant') && (gameService.playerWhoWonId == '')?  gameService.openCardDialog(card): ''"
    [receiveShadow]="true"
    [castShadow]="true"
    [name]="'cardNumber'+ cardIndex"
    #cardRef
>

<!-- OTHER EVENTS onMouseEnter   onMouseExit
    [onBeforeRender]="enableShadow(cardRef.objRef, this)"
-->
</th-object3D>
<div *ngIf="card.housesCounter && !card.hotelCounter">
  <app-house *ngFor="let item of [].constructor(card.housesCounter);let i = index" [card]="card" [cardPosition]="position" [cardRotation]="rotation" [houseIndex]="i+1" [cardIndex]="cardIndex" [possiblePositions]="possibleHousePositions"></app-house>
</div>

<div *ngIf="card.hotelCounter && card.housesCounter==4">
  <app-hotel *ngFor="let item of [].constructor(card.hotelCounter);let i = index" [card]="card" [cardPosition]="position" [cardRotation]="rotation" [cardIndex]="cardIndex"></app-hotel>
</div>
<!-- <th-mesh
  *ngIf="card.cardType=='property'"
  [rotation]="rotation"
  [position]="carpetPosistion"
  [scale]="[2, 0.1, 0.4]"
  [receiveShadow]="true"
  [castShadow]="true"
  #carpetRef
>
  <th-boxGeometry></th-boxGeometry>
  <th-meshStandardMaterial [args]="{color: card.district}" [roughness]="1"></th-meshStandardMaterial>
</th-mesh> -->