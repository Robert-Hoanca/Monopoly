<div id="messageContainer">

    <div *ngIf="data.eventType === 'showPlayerProps'" class="messageTitle" fxLayoutAlign="space-between center">
        <h1>View Properties</h1>
        <button mat-raised-button (click)="gameService.closeDialog(dialogRef)" class="closeDialog"><mat-icon>close</mat-icon></button>
    </div>

    <div *ngIf="data.eventType != 'showDiceResult' && data.eventType != 'chance' && data.eventType != 'communityChest'" class="messageDialogTextContainer">
        <h1 *ngIf="this.data.eventType !== 'changeTurn'" class="messageText">{{data.textData.text ?? data.textData.title}}</h1>
        <div *ngIf="gameService.playerWhoWonId != '' && this.data.eventType !== 'changeTurn'" class="winScreen">
            <div>Player money: {{getPlayerWhoWin().money}} â‚¬</div>
            <div>Time to finish the game:</div>
            <div class="time">{{gameService.gameAmountTime}}</div>
        </div>
    
        <div *ngIf="gameService.playerWhoWonId != '' || data.textData.showPlayerProps || this.data.eventType !== 'changeTurn'" class="playerProps">
            <h3>Player properties:</h3>
            <app-player-properties [playerId]="gameService.playerWhoWonId != '' ? gameService.playerWhoWonId : gameService.players[gameService.turn].id"></app-player-properties>
        </div>
        <div *ngIf="this.data.eventType !== 'changeTurn'" class="finishWarning" fxLayoutAlign="space-evenly center">
            <button mat-raised-button (click)="executeAndClose()" *ngIf="data.textData.goBankRupt"color="warn" class="bankRuptBtn">Confirm</button>
            <button mat-raised-button (click)="closeDialog()" *ngIf="data.textData.goBankRupt" class="bankRuptBtn">No</button>
            <button mat-raised-button (click)="executeAndClose()" *ngIf="!data.textData.goBankRupt && data.eventType !== 'showPlayerProps'" class="okBtn">Ok</button>
        </div>
        
        <div *ngIf="this.data.eventType === 'changeTurn'" class="changedTurn">
            <span> It's {{data.textData.playerName }} turn.</span>
        </div>

    </div>

    <div *ngIf="data.eventType === 'chance' || data.eventType === 'communityChest'" class="specialCardContainer">
        <div class="cardContainer">
            <div fxLayout="column" fxLayoutAlign="center space-between" [ngClass]="['card', data.eventType === 'chance' ? 'chance' : 'chest']">
                <span *ngIf="data.eventType === 'chance'" class="title">Chance</span>
                <span *ngIf="data.eventType === 'communityChest'" class="title">Community Chest</span>
    
                <span class="messageText" fxLayoutAlign="center center">{{data.textData.text ?? data.textData.title}}</span>
            </div>
        </div>
        
        <div class="specialCardBtnContainer" *ngIf="!data.textData.goBankRupt && data.eventType !== 'showPlayerProps' && data.eventType === 'chance' || data.eventType === 'communityChest'">
            <button  mat-raised-button (click)="executeAndClose()" class="okBtnCards">Ok</button>
        </div>
    </div>

</div>